(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{hszp:function(e,t,n){"use strict";n.r(t),n.d(t,"TechnicianModule",(function(){return D}));var i,a=n("tyNb"),o=n("ofXK"),c=n("3Pt+"),r=n("OsiS"),s=n("ZAI4"),d=n("Wcq6"),l=n("x4++"),b=(n("5x/H"),n("Zs65"),n("LmZi"),n("EVdn")),h=(n("FlOX"),n("e1J8"),n("4WDQ")),u=n("PSD3"),m=n.n(u),g=n("P9ut"),p=n("fXoL"),f=n("bTqV"),v=n("kmnG"),y=n("qFsG"),V=n("d3UM"),_=n("FKr1"),w=function(e,t,n,i){return new(n||(n=Promise))((function(a,o){function c(e){try{s(i.next(e))}catch(t){o(t)}}function r(e){try{s(i.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,r)}s((i=i.apply(e,t||[])).next())}))},C=function(e,t){var n,i,a,o,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function r(o){return function(r){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(a=2&o[0]?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,i=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(r){o=[6,r],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,r])}}},U=["map"];function T(e,t){if(1&e){var n=p.Wb();p.Vb(0,"a",21),p.gc("click",(function(){p.Cc(n);var e=p.kc().$implicit;return p.kc(2).deleteTechClick(e[0],e[4])})),p.Vb(1,"i",8),p.Nc(2,"close"),p.Ub(),p.Ub()}}function k(e,t){if(1&e){var n=p.Wb();p.Vb(0,"tr"),p.Vb(1,"td"),p.Vb(2,"a",18),p.Nc(3),p.Ub(),p.Ub(),p.Vb(4,"td"),p.Nc(5),p.Ub(),p.Vb(6,"td"),p.Nc(7),p.Ub(),p.Vb(8,"td"),p.Nc(9),p.Ub(),p.Vb(10,"td"),p.Nc(11),p.Ub(),p.Vb(12,"td"),p.Nc(13),p.Ub(),p.Vb(14,"td",16),p.Vb(15,"a",19),p.gc("click",(function(){p.Cc(n);var e=t.$implicit;return p.kc(2).editTechClick(e[0])})),p.Vb(16,"i",8),p.Nc(17,"edit"),p.Ub(),p.Ub(),p.Lc(18,T,3,0,"a",20),p.Ub(),p.Ub()}if(2&e){var i=t.$implicit,a=p.kc(2);p.Cb(2),p.sc("href","/jobs/technician/",i[4],"",p.Ec),p.Cb(1),p.Oc(i[1]),p.Cb(2),p.Oc(i[2]),p.Cb(2),p.Oc(i[3]),p.Cb(2),p.Oc(i[4]),p.Cb(2),p.Oc(i[5]),p.Cb(2),p.Oc(i[6]),p.Cb(5),p.qc("ngIf","Administrator"===a.role||"SubAdmin"===a.role)}}function M(e,t){if(1&e){var n=p.Wb();p.Vb(0,"div",3),p.Vb(1,"div",4),p.Vb(2,"div",5),p.Vb(3,"div",6),p.Vb(4,"div",7),p.Vb(5,"i",8),p.Nc(6,"assignment"),p.Ub(),p.Ub(),p.Vb(7,"h4",9),p.Nc(8,"My Technician"),p.Ub(),p.Vb(9,"button",10),p.gc("click",(function(){return p.Cc(n),p.kc().addTech()})),p.Nc(10," Add New Technician "),p.Ub(),p.Vb(11,"button",10),p.gc("click",(function(){return p.Cc(n),p.kc().enableMapView()})),p.Nc(12," MapView "),p.Ub(),p.Ub(),p.Vb(13,"div",11),p.Qb(14,"div",12),p.Vb(15,"div",13),p.Vb(16,"table",14),p.Vb(17,"thead"),p.Vb(18,"tr"),p.Vb(19,"th"),p.Nc(20),p.Ub(),p.Vb(21,"th"),p.Nc(22),p.Ub(),p.Vb(23,"th"),p.Nc(24),p.Ub(),p.Vb(25,"th"),p.Nc(26),p.Ub(),p.Vb(27,"th"),p.Nc(28),p.Ub(),p.Vb(29,"th"),p.Nc(30),p.Ub(),p.Vb(31,"th",15),p.Nc(32),p.Ub(),p.Ub(),p.Ub(),p.Vb(33,"tfoot"),p.Vb(34,"tr"),p.Vb(35,"th"),p.Nc(36),p.Ub(),p.Vb(37,"th"),p.Nc(38),p.Ub(),p.Vb(39,"th"),p.Nc(40),p.Ub(),p.Vb(41,"th"),p.Nc(42),p.Ub(),p.Vb(43,"th"),p.Nc(44),p.Ub(),p.Vb(45,"th"),p.Nc(46),p.Ub(),p.Vb(47,"th",16),p.Nc(48),p.Ub(),p.Ub(),p.Ub(),p.Vb(49,"tbody"),p.Lc(50,k,19,8,"tr",17),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&e){var i=p.kc();p.Cb(20),p.Oc(i.dataTable.headerRow[0]),p.Cb(2),p.Oc(i.dataTable.headerRow[1]),p.Cb(2),p.Oc(i.dataTable.headerRow[2]),p.Cb(2),p.Oc(i.dataTable.headerRow[3]),p.Cb(2),p.Oc(i.dataTable.headerRow[4]),p.Cb(2),p.Oc(i.dataTable.headerRow[5]),p.Cb(2),p.Pc(" ",i.dataTable.headerRow[6]," "),p.Cb(4),p.Oc(i.dataTable.footerRow[0]),p.Cb(2),p.Oc(i.dataTable.footerRow[1]),p.Cb(2),p.Oc(i.dataTable.footerRow[2]),p.Cb(2),p.Oc(i.dataTable.footerRow[3]),p.Cb(2),p.Oc(i.dataTable.footerRow[4]),p.Cb(2),p.Oc(i.dataTable.headerRow[5]),p.Cb(2),p.Oc(i.dataTable.footerRow[6]),p.Cb(2),p.qc("ngForOf",i.dataTable.dataRows)}}function N(e,t){if(1&e){var n=p.Wb();p.Vb(0,"mat-form-field",35),p.Vb(1,"mat-select",50),p.gc("ngModelChange",(function(e){return p.Cc(n),p.kc(2).user_blocked=e})),p.Vb(2,"mat-option",51),p.Nc(3,"No"),p.Ub(),p.Vb(4,"mat-option",52),p.Nc(5,"Yes"),p.Ub(),p.Ub(),p.Ub()}if(2&e){var i=p.kc(2);p.Cb(1),p.qc("ngModel",i.user_blocked)}}function I(e,t){if(1&e){var n=p.Wb();p.Vb(0,"mat-form-field",35),p.Vb(1,"mat-select",53),p.gc("ngModelChange",(function(e){return p.Cc(n),p.kc(2).user_verified=e})),p.Vb(2,"mat-option",51),p.Nc(3,"No"),p.Ub(),p.Vb(4,"mat-option",52),p.Nc(5,"Yes"),p.Ub(),p.Ub(),p.Ub()}if(2&e){var i=p.kc(2);p.Cb(1),p.qc("ngModel",i.user_verified)}}function S(e,t){if(1&e&&(p.Vb(0,"mat-option",54),p.Nc(1),p.Ub()),2&e){var n=t.$implicit;p.qc("value",n.id),p.Cb(1),p.Pc(" ",n.name," ")}}function A(e,t){if(1&e){var n=p.Wb();p.Vb(0,"div",3),p.Vb(1,"div",22),p.Vb(2,"div",5),p.Vb(3,"div",23),p.Vb(4,"div",7),p.Vb(5,"i",8),p.Nc(6,"mail_outline"),p.Ub(),p.Ub(),p.Vb(7,"h4",9),p.Nc(8,"New Proto Technician"),p.Ub(),p.Ub(),p.Vb(9,"div",11),p.Vb(10,"form",24),p.Vb(11,"legend"),p.Nc(12,"Technician Profile Picture *"),p.Ub(),p.Vb(13,"div",25),p.Vb(14,"div",26),p.Qb(15,"img",27),p.Ub(),p.Qb(16,"div",28),p.Vb(17,"div"),p.Vb(18,"span",29),p.Vb(19,"span",30),p.Nc(20,"Select image"),p.Ub(),p.Vb(21,"span",31),p.Nc(22,"Change"),p.Ub(),p.Qb(23,"input",32),p.Ub(),p.Vb(24,"a",33),p.Qb(25,"i",34),p.Nc(26," Remove"),p.Ub(),p.Ub(),p.Ub(),p.Vb(27,"mat-form-field",35),p.Vb(28,"input",36),p.gc("ngModelChange",(function(e){return p.Cc(n),p.kc()._name=e})),p.Ub(),p.Ub(),p.Vb(29,"mat-form-field",35),p.Vb(30,"input",37),p.gc("ngModelChange",(function(e){return p.Cc(n),p.kc()._addr=e})),p.Ub(),p.Ub(),p.Vb(31,"mat-form-field",35),p.Vb(32,"input",38),p.gc("ngModelChange",(function(e){return p.Cc(n),p.kc()._phone=e})),p.Ub(),p.Ub(),p.Vb(33,"mat-form-field",35),p.Vb(34,"input",39),p.gc("ngModelChange",(function(e){return p.Cc(n),p.kc()._email=e})),p.Ub(),p.Ub(),p.Lc(35,N,6,1,"mat-form-field",40),p.Lc(36,I,6,1,"mat-form-field",40),p.Vb(37,"div",3),p.Vb(38,"div",41),p.Vb(39,"mat-form-field"),p.Vb(40,"mat-select",42),p.gc("ngModelChange",(function(e){return p.Cc(n),p.kc()._cat=e})),p.Lc(41,S,2,2,"mat-option",43),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(42,"div",44),p.Vb(43,"button",45),p.gc("click",(function(){return p.Cc(n),p.kc().technicianSubmitClicked()})),p.Nc(44),p.Ub(),p.Vb(45,"button",46),p.gc("click",(function(){return p.Cc(n),p.kc().cancelAddTech()})),p.Nc(46," Cancel "),p.Ub(),p.Ub(),p.Qb(47,"br"),p.Vb(48,"div",47),p.Qb(49,"p",48),p.Qb(50,"p",49),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&e){var i=p.kc();p.Cb(15),p.rc("src",i._image,p.Ec),p.Cb(13),p.qc("ngModel",i._name),p.Cb(2),p.qc("ngModel",i._addr),p.Cb(2),p.qc("ngModel",i._phone),p.Cb(2),p.qc("ngModel",i._email),p.Cb(1),p.qc("ngIf","Administrator"===i.role),p.Cb(1),p.qc("ngIf","Administrator"===i.role),p.Cb(4),p.qc("ngModel",i._cat),p.Cb(1),p.qc("ngForOf",i.categories),p.Cb(2),p.qc("disabled",i.button_pressed),p.Cb(1),p.Pc(" ",i.button_pressed?"Please wait...":"Submit"," ")}}function L(e,t){1&e&&(p.Vb(0,"div",3),p.Vb(1,"div",22),p.Vb(2,"div",5),p.Vb(3,"div",23),p.Vb(4,"div",7),p.Vb(5,"i",8),p.Nc(6,"mail_outline"),p.Ub(),p.Ub(),p.Vb(7,"h4",9),p.Nc(8,"Technicians Location"),p.Ub(),p.Ub(),p.Vb(9,"div",11),p.Qb(10,"div",55,56),p.Ub(),p.Ub(),p.Ub(),p.Ub())}var O,E={},x={enableHighAccuracy:!0,timeout:6e4,maximumAge:0},P="https://maps.google.com/mapfiles/ms/icons/",B=[{path:"",children:[{path:"",component:function(){function e(){this.data=[],this.technicians=[],this.categories=[],this.addNewTech=!1,this.editTech=!1,this.config=new h.a,this.button_pressed=!1,this.user_blocked="no",this.user_verified="yes",this.service=new g.a,this.role="",this.mapview=!1,this._name="",this._addr="",this._phone="+234",this._email="",this._image="./assets/img/default-avatar.png",this._cat=[]}return e.prototype.initMap=function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){i=new google.maps.Map(e.mapElement.nativeElement,{center:{lat:t.coords.latitude,lng:t.coords.longitude},zoom:10}),O=new google.maps.InfoWindow,E.current=new google.maps.Marker({position:{lat:t.coords.latitude,lng:t.coords.longitude},map:i,title:"Click to zoom",icon:P+"blue-dot.png"}),e.markerPan=E.current,i.addListener("center_changed",(function(){window.setTimeout((function(){i.panTo(e.markerPan.getPosition())}),3e3)})),E.current.addListener("click",(function(e){O.setPosition(e.latLng),O.setContent("Current location"),O.open(i,E.current)}))}),(function(t){e.config.displayMessage(t.message+". Refresh this page.",!1)}),x)},e.prototype.createMarker=function(e,t,n,a){var o=""+a.status,c="online"===o?"block":"none";E[n]=new google.maps.Marker({map:i,position:{lat:e,lng:t},icon:"online"===o?P+"green-dot.png":P+"red-dot.png"}),this.markerPan=E[n],google.maps.event.addListener(E[n],"click",(function(){O.setContent('<div class="card">\n      <div class="card-header card-header-text card-header-rose">\n        <div class="card-text">\n          <h4 class="card-title">'+a.name+'</h4>\n        </div>\n        <div class="card-body">\n        <label>Email Address: <a href="mailto:'+a.email+'">'+a.email+'</a></label><br>\n        <label>Phone Number: <a href="tel:'+a.phone+'">'+a.phone+'</a></label><br>\n        <label>Address: <a href="https://google.com/maps/@'+e+","+t+',15z" target="_blank">'+e+","+t+"</a></label><br>\n        <label>Status: "+a.status+'</label><br>\n        </div>\n        <div class="card-footer">\n        <a href="/new-ticket?technician='+a.email.toLowerCase()+'" style="display: '+c+';" mat-raised-button type="button" id="'+n+'" class="btn btn-fill btn-rose btn-block">\n             Assign\n        </a>\n        </div>\n      </div>\n      </div>'),O.open(i,E[n]),setTimeout((function(){document.getElementById(n).addEventListener("click",(function(){document.getElementById("assign-id").innerText=n,document.getElementById("assignBtnClick").click()}))}),500)}))},e.prototype.ngOnDestroy=function(){},e.prototype.getCategories=function(){var e=this;d.firestore().collection("categories").orderBy("name","asc").get().then((function(t){e.categories=[],t.forEach((function(t){var n=t.data();e.categories.push(n)}))}))},e.prototype.getTechnicians=function(){var e=this;d.firestore().collection("users").where("user_type","==","technician").orderBy("timestamp","desc").onSnapshot((function(t){e.data=[],e.technicians=[],t.forEach((function(t){var n=t.data();e.technicians.push(n),e.data.push([n.id,n.name,n.address,n.phone,n.email,n.created_date,n.modified_date,n.created_by,"btn-link"])})),e.dataTable={headerRow:["Name","Address","Phone Number","Email","Created Date","Modified Date","Actions"],footerRow:["Name","Address","Phone Number","Email","Created Date","Modified Date","Actions"],dataRows:e.data}}))},e.prototype.initAutoComplete=function(){var e=document.getElementById("tech_addr"),t=new google.maps.places.Autocomplete(e);t.setFields(["address_components","geometry","icon","name"]),t.addListener("place_changed",(function(){var e=t.getPlace();e.geometry||window.alert("No details available for input: '"+e.name+"'"),document.getElementById("mgeo").innerHTML=JSON.stringify(e.geometry.location.toJSON());var n="";e.address_components&&(n=[e.address_components[0]&&e.address_components[0].short_name||"",e.address_components[1]&&e.address_components[1].short_name||"",e.address_components[2]&&e.address_components[2].short_name||""].join(" "),document.getElementById("madd").innerHTML=n)}))},e.prototype.ngOnInit=function(){var e=this,t=localStorage.getItem("email");this.service.getUserData(t).then((function(t){e.role=t.role,e.getCategories(),e.getTechnicians()}))},e.prototype.addTech=function(){var e=this;this.addNewTech=!0,this.editTech=!1,setTimeout((function(){e.initAutoComplete()}),3e3)},e.prototype.cancelAddTech=function(){this.addNewTech=!1,this.editTech=!1,this.button_pressed=!1,this._name="",this._addr="",this._phone="+234",this._email="",this._image="./assets/img/default-avatar.png",this._cat=[]},e.prototype.deleteTechClick=function(e,t){var n=this;m()({title:"Delete Alert",text:"Are you sure about deleting this technician?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it",confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",buttonsStyling:!1}).then((function(e){e.value?d.firestore().collection("users").doc(t).delete().then((function(e){var i=localStorage.getItem("email"),a=localStorage.getItem("name");n.config.logActivity(a+"|"+i+" deleted this technician: "+t),n.config.displayMessage("Successfully deleted",!0)})).catch((function(e){n.config.displayMessage(""+e,!1)})):m()({title:"Cancelled",text:"Deletion not successful",type:"error",confirmButtonClass:"btn btn-info",buttonsStyling:!1}).catch(m.a.noop)}))},e.prototype.editTechClick=function(e){var t=this;this.editTech=!0,this.addNewTech=!0,this.selectedTechnician=this.technicians.find((function(t,n,i){return t.id===e})),this._name=this.selectedTechnician.name,this._addr=this.selectedTechnician.address,this._phone=this.selectedTechnician.phone,this._email=this.selectedTechnician.email,this._image=this.selectedTechnician.image,this._cat=this.selectedTechnician.category,this.user_blocked=this.selectedTechnician.blocked?"yes":"no",this.user_verified=this.selectedTechnician.verified?"yes":"no",setTimeout((function(){document.getElementById("madd").innerHTML=t.selectedTechnician.address,document.getElementById("mgeo").innerHTML=JSON.stringify(t.selectedTechnician.position.geopoint),t.initAutoComplete()}),3e3)},e.prototype.technicianSubmitClicked=function(){return w(this,void 0,void 0,(function(){var e,t,n,i,a,o,c,r,s,b,h,u,m,g=this;return C(this,(function(p){switch(p.label){case 0:return e=document.getElementById("pro_images").files,t=document.getElementById("tech_name").value,n=document.getElementById("tech_phone").value,i=document.getElementById("tech_email").value,a=document.getElementById("madd").innerHTML,""===t||""===n||""===a||""===i||0===this._cat.length?(this.config.displayMessage("Please fill all fields and use google autocomplete for address.",!1),[2]):n.startsWith("+234")?(o=JSON.parse(document.getElementById("mgeo").innerHTML),this.button_pressed=!0,c=d.database().ref().push().key,r=localStorage.getItem("email"),s=localStorage.getItem("name"),b=l.a(d),this.editTech?[3,3]:0==e.length?(this.button_pressed=!1,this.config.displayMessage("Please upload an image for this technician",!1),[2]):[4,d.firestore().collection("users").where("email","==",i).get()]):(this.config.displayMessage("Please input correct address. Must start with +234",!1),[2]);case 1:return p.sent().size>0?(this.button_pressed=!1,this.config.displayMessage("technician already exists",!1),[2]):(h=b.point(o.lat,o.lng),[4,this.uploadImage(e)]);case 2:return void 0===(u=p.sent())?(this.button_pressed=!1,[2]):(m={id:c,name:t,address:a,position:{geohash:h.geohash,geopoint:h.geopoint},msgID:[],phone:n,email:i,category:this._cat,role:"Technician",access_levels:"",blocked:"no"!==this.user_blocked,verified:"no"!==this.user_verified,status:"offline",user_type:"technician",image:u,user_position:"Technician",created_by:s+"|"+r,created_date:(new Date).toLocaleDateString()+" - "+(new Date).toLocaleTimeString(),modified_date:(new Date).toLocaleDateString()+" - "+(new Date).toLocaleTimeString(),timestamp:d.firestore.FieldValue.serverTimestamp()},d.firestore().collection("users").doc(i.toLowerCase()).set(m).then((function(e){g.config.logActivity(s+"|"+r+" created this technician: "+i),g.cancelAddTech(),g.config.displayMessage("Successfully created",!0)})).catch((function(e){g.button_pressed=!1,g.config.displayMessage(""+e,!1)})),[3,6]);case 3:return h=void 0===o.lat?b.point(o.latitude,o.longitude):b.point(o.lat,o.lng),e.length>0?[4,this.uploadImage(e)]:[3,5];case 4:if(void 0===(u=p.sent()))return this.button_pressed=!1,[2];this._image=u,p.label=5;case 5:m={name:t,blocked:"no"!==this.user_blocked,verified:"no"!==this.user_verified,address:a,position:{geohash:h.geohash,geopoint:h.geopoint},phone:n,email:i,image:this._image,category:this._cat,modified_date:(new Date).toLocaleDateString()+" - "+(new Date).toLocaleTimeString()},d.firestore().collection("users").doc((""+this.selectedTechnician.email).toLowerCase()).update(m).then((function(e){g.config.logActivity(s+"|"+r+" updated this technician: "+i),g.cancelAddTech(),g.config.displayMessage("Successfully updated",!0)})).catch((function(e){g.button_pressed=!1,g.config.displayMessage(""+e,!1)})),p.label=6;case 6:return[2]}}))}))},e.prototype.uploadImage=function(e){return w(this,void 0,void 0,(function(){var t,n,i;return C(this,(function(a){switch(a.label){case 0:return t=e.item(0).name.substring(e.item(0).name.lastIndexOf(".")),console.log(t),e.item(0).size>204800?(this.config.displayMessage("Validation Error: File size must not be greater than 200KB",!1),[2]):[".jpg",".jpeg",".png"].includes(t)?(n=d.database().ref().push().key,[4,(i=d.storage().ref("technicians").child(n+".jpg")).put(e.item(0))]):(this.config.displayMessage("Validation Error: Incorrect file extension. Allowed extensions are: .jpg, .jpeg, .png",!1),[2]);case 1:return a.sent(),[4,i.getDownloadURL()];case 2:return[2,a.sent()]}}))}))},e.prototype.ngAfterViewInit=function(){b("#datatables").DataTable({pagingType:"full_numbers",lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],responsive:!0,language:{search:"_INPUT_",searchPlaceholder:"Search records"}}),b("#datatables").DataTable(),b(".card .material-datatables label").addClass("form-group")},e.prototype.searchForTechnicians=function(){return w(this,void 0,void 0,(function(){var e=this;return C(this,(function(t){return console.log("yo"),d.firestore().collection("users").where("user_type","==","technician").onSnapshot((function(t){E={},t.forEach((function(t){var n=t.data(),i=n.position.geopoint;console.log(i),e.createMarker(i.latitude,i.longitude,n.id,n)}))})),[2]}))}))},e.prototype.enableMapView=function(){var e=this;this.mapview=!0,setTimeout((function(){e.initMap()}),2e3),setTimeout((function(){e.searchForTechnicians()}),1e4)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Jb({type:e,selectors:[["app-technician"]],viewQuery:function(e,t){var n;1&e&&p.Rc(U,!0),2&e&&p.xc(n=p.hc())&&(t.mapElement=n.first)},decls:5,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-primary","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-title"],["mat-raised-button","",1,"btn","btn-primary",3,"click"],[1,"card-body"],[1,"toolbar"],[1,"material-datatables"],["id","datatables","cellspacing","0","width","100%",1,"table","table-striped","table-no-bordered","table-hover",2,"width","100%"],[1,"disabled-sorting","text-right"],[1,"text-right"],[4,"ngFor","ngForOf"],[3,"href"],["href","javascript:void(0)","data-toggle","tooltip","title","edit","data-placement","bottom",1,"btn","btn-link","btn-warning","btn-just-icon","edit",3,"click"],["href","javascript:void(0)","data-toggle","tooltip","title","delete","data-placement","bottom","class","btn btn-link btn-danger btn-just-icon remove",3,"click",4,"ngIf"],["href","javascript:void(0)","data-toggle","tooltip","title","delete","data-placement","bottom",1,"btn","btn-link","btn-danger","btn-just-icon","remove",3,"click"],[1,"col-md-10","offset-md-1"],[1,"card-header","card-header-rose","card-header-icon"],["method","#","action","#"],["data-provides","fileinput",1,"fileinput","fileinput-new","text-center"],[1,"fileinput-new","thumbnail"],["alt","...","id","myImage",3,"src"],[1,"fileinput-preview","fileinput-exists","thumbnail"],[1,"btn","btn-rose","btn-round","btn-file"],[1,"fileinput-new"],[1,"fileinput-exists"],["type","file","name","...","id","pro_images"],["href","","data-dismiss","fileinput",1,"btn","btn-danger","btn-round","fileinput-exists"],[1,"fa","fa-times"],[1,"example-full-width"],["matInput","","placeholder","Name","name","mMame","type","text","id","tech_name",1,"form-control",3,"ngModel","ngModelChange"],["matInput","","placeholder"," Address","type","address","name","mAddr","id","tech_addr",1,"form-control",3,"ngModel","ngModelChange"],["matInput","","placeholder","Phone Number","name","mPhone","type","tel","id","tech_phone",1,"form-control",3,"ngModel","ngModelChange"],["matInput","","name","memail","placeholder","Email","type","email","id","tech_email",1,"form-control",3,"ngModel","ngModelChange"],["class","example-full-width",4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12"],["multiple","","placeholder","Category","name","plumber","ariaLabel","Techies[0]","id","tech_cat",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"card-footer"],["mat-raised-button","","type","submit",1,"btn","btn-fill","btn-rose","btn-block",3,"disabled","click"],["mat-raised-button","","type","submit",1,"btn","btn-fill","btn-block","btn-danger",3,"click"],[2,"display","none"],["id","madd"],["id","mgeo"],["placeholder","Blocked","name","_blocked","id","tech_block",3,"ngModel","ngModelChange"],["value","no"],["value","yes"],["placeholder","Verified","name","_ver","id","tech_ver",3,"ngModel","ngModelChange"],[3,"value"],["id","map",1,"mapSize"],["map",""]],template:function(e,t){1&e&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Lc(2,M,51,15,"div",2),p.Lc(3,A,51,11,"div",2),p.Lc(4,L,12,0,"div",2),p.Ub(),p.Ub()),2&e&&(p.Cb(2),p.qc("ngIf",!t.addNewTech&&!t.mapview),p.Cb(1),p.qc("ngIf",t.addNewTech&&!t.mapview),p.Cb(1),p.qc("ngIf",t.mapview))},directives:[o.m,f.b,o.l,c.A,c.r,c.s,v.c,y.b,c.e,c.q,c.t,V.a,_.n],styles:[".mapSize[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}"]}),e}()}]}],D=function(){function e(){}return e.\u0275mod=p.Nb({type:e}),e.\u0275inj=p.Mb({factory:function(t){return new(t||e)},imports:[[o.c,a.g.forChild(B),c.l,r.a,s.b]]}),e}()}}]);