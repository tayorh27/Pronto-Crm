(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{dgmN:function(e,t,n){"use strict";n.r(t),n.d(t,"PagesModule",(function(){return h}));var s=n("tyNb"),i=n("ofXK"),o=n("ZAI4"),a=n("3Pt+"),r=n("Wcq6"),c=(n("5x/H"),n("6nsN"),n("Zs65"),n("PSD3")),l=n.n(c),d=n("P9ut"),b=n("4WDQ"),g=n("fXoL");function u(e,t){if(1&e){var n=g.Wb();g.Vb(0,"a",33),g.gc("click",(function(){return g.Cc(n),g.kc().login()})),g.Nc(1,"Lets Go"),g.Ub()}}function m(e,t){1&e&&(g.Vb(0,"div",34),g.jc(),g.Vb(1,"svg",35),g.Qb(2,"circle",36),g.Ub(),g.Ub())}function p(e,t){if(1&e){var n=g.Wb();g.Vb(0,"a",37),g.gc("click",(function(){return g.Cc(n),g.kc().forgotpassword()})),g.Vb(1,"i"),g.Nc(2,"Forgot Password?"),g.Ub(),g.Ub()}}var f=[{path:"",children:[{path:"login",component:function(){function e(e,t){this.element=e,this.router=t,this.test=new Date,this.adminService=new d.a,this.login_pressed=!1,this.forgot_pressed=!1,this.config=new b.a,this.nativeElement=e.nativeElement,this.sidebarVisible=!1}return e.prototype.ngOnInit=function(){this.toggleButton=this.element.nativeElement.getElementsByClassName("navbar-toggle")[0];var e=document.getElementsByTagName("body")[0];e.classList.add("login-page"),e.classList.add("off-canvas-sidebar");var t=document.getElementsByClassName("card")[0];setTimeout((function(){t.classList.remove("card-hidden")}),700)},e.prototype.sidebarToggle=function(){var e=this.toggleButton,t=document.getElementsByTagName("body")[0];document.getElementsByClassName("navbar-collapse"),0==this.sidebarVisible?(setTimeout((function(){e.classList.add("toggled")}),500),t.classList.add("nav-open"),this.sidebarVisible=!0):(this.toggleButton.classList.remove("toggled"),this.sidebarVisible=!1,t.classList.remove("nav-open"))},e.prototype.ngOnDestroy=function(){var e=document.getElementsByTagName("body")[0];e.classList.remove("login-page"),e.classList.remove("off-canvas-sidebar")},e.prototype.login=function(){var e=this,t=document.getElementById("userNew").checked,n=document.getElementById("mEmail").value.toLowerCase(),s=document.getElementById("mPassword").value;""!=n&&""!=s?(this.login_pressed=!0,t?r.auth().createUserWithEmailAndPassword(n,s).then((function(t){e.adminService.getUserData(n).then((function(t){return null==t?(r.auth().signOut(),void e.displayMessage("User does not exist.",!1)):t.blocked?(r.auth().signOut(),void e.displayMessage("Your account has been blocked. Please contact your Admin.",!1)):(e.config.logActivity(t.name+" logged in to admin"),localStorage.setItem("logged","true"),localStorage.setItem("email",n),localStorage.setItem("name",t.name),localStorage.setItem("dp",t.image),localStorage.setItem("SIPexten",t.SIPexten),e.login_pressed=!1,void e.router.navigate(["/dashboard"]))})).catch((function(t){r.auth().signOut(),e.displayMessage(""+t,!1)}))})).catch((function(t){e.displayMessage(""+t,!1)})):r.auth().signInWithEmailAndPassword(n,s).then((function(t){e.adminService.getUserData(n).then((function(t){return null==t?(r.auth().signOut(),void e.displayMessage("User does not exist.",!1)):t.blocked?(r.auth().signOut(),void e.displayMessage("Your account has been blocked. Please contact your Admin.",!1)):(e.config.logActivity(t.name+" logged in to admin"),localStorage.setItem("email",n),localStorage.setItem("name",t.name),localStorage.setItem("dp",t.image),localStorage.setItem("SIPexten",t.SIPexten),e.login_pressed=!1,void e.router.navigate(["/dashboard"]))})).catch((function(t){r.auth().signOut(),e.displayMessage(""+t,!1)}))})).catch((function(t){e.displayMessage(""+t,!1)}))):this.displayMessage("All fields must be filled.",!1)},e.prototype.forgotpassword=function(){var e=this,t=document.getElementById("mEmail").value.toLowerCase();""!=t?(this.forgot_pressed=!0,r.auth().sendPasswordResetEmail(t).then((function(t){e.displayMessage("Password reset instructions sent successfully.",!0)})).catch((function(t){e.displayMessage(""+t,!1)}))):this.displayMessage("Please enter your email address.",!1)},e.prototype.displayMessage=function(e,t){this.login_pressed=!1,this.forgot_pressed=!1,l()({title:e,buttonsStyling:!1,confirmButtonClass:t?"btn btn-success":"btn btn-danger"}).catch(l.a.noop)},e.\u0275fac=function(t){return new(t||e)(g.Pb(g.l),g.Pb(s.d))},e.\u0275cmp=g.Jb({type:e,selectors:[["app-login-cmp"]],decls:53,vars:7,consts:[[1,"wrapper","wrapper-full-page"],["filter-color","black",1,"page-header","login-page","header-filter",2,"background-image","url('./assets/img/login.jpg')","background-size","cover","background-position","top center"],[1,"container"],[1,"row"],[1,"col-lg-4","col-md-6","col-sm-6","ml-auto","mr-auto"],["method","","action","",1,"form"],[1,"card","card-login"],[1,"card-header","card-header-rose","text-center"],[1,"card-title"],[1,"social-line"],[1,"card-body"],[1,"bmd-form-group"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"material-icons"],["type","email","id","mEmail","placeholder","Email...","required","",1,"form-control"],["type","password","id","mPassword","placeholder","Password...","required","",1,"form-control"],[1,"col-md-2"],[1,"col-md-10"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","value","","id","userNew",1,"form-check-input"],[1,"form-check-sign"],[1,"check"],[1,"card-footer","justify-content-center"],["href","javascript:void(0)","class","btn btn-rose btn-link btn-lg",3,"click",4,"ngIf"],["class","loader",4,"ngIf"],["href","javascript:void(0)","class","btn btn-danger btn-link btn-sm",3,"click",4,"ngIf"],[1,"footer"],[1,"pull-left"],[1,"copyright","pull-right"],["href","https://tagdev.tech","target","_blank"],["href","javascript:void(0)",1,"btn","btn-rose","btn-link","btn-lg",3,"click"],[1,"loader"],["viewBox","25 25 50 50",1,"circular"],["cx","50","cy","50","r","20","fill","none","stroke-width","2","stroke-miterlimit","10",1,"path"],["href","javascript:void(0)",1,"btn","btn-danger","btn-link","btn-sm",3,"click"]],template:function(e,t){1&e&&(g.Vb(0,"div",0),g.Vb(1,"div",1),g.Vb(2,"div",2),g.Vb(3,"div",3),g.Vb(4,"div",4),g.Vb(5,"form",5),g.Vb(6,"div",6),g.Vb(7,"div",7),g.Vb(8,"h4",8),g.Nc(9,"Log in"),g.Ub(),g.Qb(10,"div",9),g.Ub(),g.Vb(11,"div",10),g.Vb(12,"span",11),g.Vb(13,"div",12),g.Vb(14,"div",13),g.Vb(15,"span",14),g.Vb(16,"i",15),g.Nc(17,"email"),g.Ub(),g.Ub(),g.Ub(),g.Qb(18,"input",16),g.Ub(),g.Ub(),g.Vb(19,"span",11),g.Vb(20,"div",12),g.Vb(21,"div",13),g.Vb(22,"span",14),g.Vb(23,"i",15),g.Nc(24,"lock_outline"),g.Ub(),g.Ub(),g.Ub(),g.Qb(25,"input",17),g.Ub(),g.Ub(),g.Vb(26,"div",3),g.Qb(27,"label",18),g.Vb(28,"div",19),g.Vb(29,"div",20),g.Vb(30,"label",21),g.Qb(31,"input",22),g.Nc(32," Check this box if you are a new user "),g.Vb(33,"span",23),g.Qb(34,"span",24),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(35,"div",25),g.Lc(36,u,2,0,"a",26),g.Lc(37,m,3,0,"div",27),g.Ub(),g.Vb(38,"div",25),g.Lc(39,p,3,0,"a",28),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(40,"footer",29),g.Vb(41,"div",2),g.Vb(42,"nav",30),g.Qb(43,"ul"),g.Ub(),g.Vb(44,"div",31),g.Nc(45),g.lc(46,"date"),g.Vb(47,"i",15),g.Nc(48,"favorite"),g.Ub(),g.Nc(49," by "),g.Vb(50,"a",32),g.Nc(51,"TagDev"),g.Ub(),g.Nc(52," for a better web. "),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&e&&(g.Cb(36),g.qc("ngIf",!t.login_pressed),g.Cb(1),g.qc("ngIf",t.login_pressed||t.forgot_pressed),g.Cb(2),g.qc("ngIf",!t.forgot_pressed),g.Cb(6),g.Pc(" \xa9 ",g.nc(46,4,t.test,"yyyy"),", made with "))},directives:[a.A,a.r,a.s,i.m],pipes:[i.e],encapsulation:2}),e}()}]}],h=function(){function e(){}return e.\u0275mod=g.Nb({type:e}),e.\u0275inj=g.Mb({factory:function(t){return new(t||e)},imports:[[i.c,s.g.forChild(f),a.l,o.b,a.x]]}),e}()}}]);